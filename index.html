<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>üöÄ Landing Generator ‚Äî Style aware</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --accent: #E48000;
      --bg: #0f1015;
      --card: #11131d;
      --muted: #8a8fa6;
      --border: #1e2331;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: 'Poppins', sans-serif;
      background: radial-gradient(circle at 20% 20%, #1b1f2f, #0f1015 50%), radial-gradient(circle at 80% 0%, #191b2b, transparent 40%), #0f1015;
      color: #f2f4ff;
      min-height: 100vh;
      padding: 32px;
      line-height: 1.6;
    }

    h1 { margin-bottom: 10px; font-size: 30px; }
    p.lead { color: #c6c9de; margin-bottom: 22px; }

    .container {
      max-width: 1500px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: 460px 1fr;
      gap: 24px;
    }

    .panel {
      background: rgba(255,255,255,0.02);
      border: 1px solid #20263a;
      border-radius: 16px;
      padding: 22px;
      box-shadow: 0 24px 60px rgba(0,0,0,0.35);
      backdrop-filter: blur(8px);
    }

    .form-group { margin-bottom: 18px; }
    label { display: block; font-weight: 600; margin-bottom: 8px; }
    .label-hint { color: #949bb9; font-size: 12px; margin-bottom: 6px; }
    input, textarea, select {
      width: 100%;
      padding: 12px 14px;
      border-radius: 12px;
      border: 1px solid #20263a;
      background: rgba(255,255,255,0.03);
      color: #e9ecff;
      font-size: 14px;
      transition: border-color 0.2s, box-shadow 0.2s;
    }
    input:focus, textarea:focus, select:focus {
      outline: none;
      border-color: var(--accent);
      box-shadow: 0 0 0 3px rgba(228,128,0,0.2);
    }
    textarea { resize: vertical; }

    .color-picker {
      height: 52px;
      padding: 0;
      cursor: pointer;
    }

    .grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
    .grid-3 { display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; }

    .btn {
      display: inline-flex;
      justify-content: center;
      align-items: center;
      gap: 8px;
      padding: 14px 18px;
      border-radius: 12px;
      border: none;
      background: linear-gradient(135deg, var(--accent), #f6a136);
      color: #0f1015;
      font-weight: 700;
      cursor: pointer;
      width: 100%;
      transition: transform 0.15s ease, box-shadow 0.2s ease;
      box-shadow: 0 12px 30px rgba(228,128,0,0.35);
    }
    .btn:hover { transform: translateY(-2px); box-shadow: 0 18px 40px rgba(228,128,0,0.45); }

    .tabs { display: flex; margin-bottom: -1px; }
    .tab-btn {
      flex: 1;
      padding: 14px;
      border: 1px solid #20263a;
      background: #0d0f17;
      color: #cfd4ff;
      border-bottom: none;
      cursor: pointer;
      font-weight: 600;
      border-radius: 12px 12px 0 0;
    }
    .tab-btn.active { background: linear-gradient(135deg, #171b2a, #0f1015); color: #fff; border-color: #2a3148; }

    .tab-content {
      border: 1px solid #20263a;
      border-radius: 0 12px 12px 12px;
      background: #0d0f17;
      padding: 0;
      min-height: 760px;
    }

    .preview-iframe { width: 100%; height: 850px; border: none; border-radius: 0 0 12px 12px; }
    .code-block { background: #0a0c12; color: #e9ecff; padding: 18px; border-radius: 0 0 12px 12px; font-family: 'Courier New', monospace; font-size: 13px; line-height: 1.5; white-space: pre-wrap; max-height: 850px; overflow: auto; }

    .helper { padding: 12px 14px; border: 1px solid #20263a; border-radius: 12px; background: rgba(255,255,255,0.03); color: #c5c9e5; font-size: 13px; }
    .swatch { height: 42px; border-radius: 12px; border: 1px solid #20263a; position: relative; }
    .swatch span { position: absolute; bottom: 6px; right: 10px; font-size: 11px; color: #0f1015; background: rgba(255,255,255,0.8); padding: 3px 6px; border-radius: 8px; }
    .badge { display: inline-flex; align-items: center; gap: 6px; font-size: 12px; padding: 6px 10px; border-radius: 10px; background: rgba(228,128,0,0.14); color: #f5b15f; border: 1px solid rgba(228,128,0,0.25); margin-bottom: 12px; }
    .status { font-size: 13px; color: #bfc4e0; margin-top: 6px; min-height: 18px; }

    .actions { display: flex; gap: 10px; margin-top: 14px; }
    .btn-secondary { background: #151929; color: #e9ecff; box-shadow: none; border: 1px solid #20263a; }
    .btn-secondary:hover { transform: none; box-shadow: 0 12px 32px rgba(0,0,0,0.35); }

    @media (max-width: 1080px) { .container { grid-template-columns: 1fr; } }
  </style>
</head>
<body>
  <div class="container">
    <div class="panel">
      <h1>üöÄ –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ª–µ–Ω–¥–∏–Ω–≥–æ–≤</h1>
      <p class="lead">–°–æ–∑–¥–∞–π –ø–æ–ª–Ω—ã–π –¥—É–±–ª–∏—Ä—É–µ–º—ã–π –ª–µ–Ω–¥–∏–Ω–≥ –∏ –ø–æ–¥–±–µ—Ä–∏ —Å—Ç–∏–ª—å –ø–æ —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–∞–º —Å–∞–π—Ç–æ–≤.</p>

      <div class="badge">üé® –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –ø–æ–¥–±–æ—Ä–∞ —Å—Ç–∏–ª—è + –ø–æ–ª–Ω—ã–π HTML</div>

      <div class="form-group">
        <label>üé® –û—Å–Ω–æ–≤–Ω–æ–π —Ü–≤–µ—Ç (Accent Color)</label>
        <div class="label-hint">–ö–Ω–æ–ø–∫–∏, –≤—ã–¥–µ–ª–µ–Ω–∏—è, —Ñ–æ–Ω—ã</div>
        <input type="color" id="color" class="color-picker" value="#E48000">
      </div>

      <div class="form-group">
        <label>üåê –°–∞–π—Ç—ã-—Ä–µ—Ñ–µ—Ä–µ–Ω—Å—ã –¥–ª—è –ø–æ–¥–±–æ—Ä–∞ —Å—Ç–∏–ª—è</label>
        <div class="label-hint">–í—Å—Ç–∞–≤—å URL —Å–∞–π—Ç–æ–≤, —Å—Ç–∏–ª—å –∫–æ—Ç–æ—Ä—ã—Ö –Ω—É–∂–Ω–æ –ø–æ–≤—Ç–æ—Ä–∏—Ç—å. –ú—ã –≤—ã—Ç–∞—â–∏–º –æ—Å–Ω–æ–≤–Ω—ã–µ —Ü–≤–µ—Ç–∞.</div>
        <div class="grid-3">
          <input type="url" id="ref1" placeholder="https://example.com">
          <input type="url" id="ref2" placeholder="https://another.com">
          <input type="url" id="ref3" placeholder="https://third.com">
        </div>
        <div class="actions">
          <button class="btn" style="width: auto; padding: 10px 14px;" onclick="pickStyleFromSites()">üîç –ü–æ–¥–æ–±—Ä–∞—Ç—å —Å—Ç–∏–ª—å</button>
          <button class="btn btn-secondary" style="width: auto; padding: 10px 14px;" onclick="randomizeStyle()">‚ú® –°–ª—É—á–∞–π–Ω—ã–π —Å—Ç–∏–ª—å</button>
        </div>
        <div class="grid-3" style="margin-top: 8px;">
          <div class="swatch" id="swatchAccent"><span>Accent</span></div>
          <div class="swatch" id="swatchBg"><span>BG</span></div>
          <div class="swatch" id="swatchCard"><span>Card</span></div>
        </div>
        <div class="status" id="styleStatus"></div>
      </div>

      <div class="form-group">
        <label>üìù –ó–∞–≥–æ–ª–æ–≤–æ–∫ (Hero Title)</label>
        <input type="text" id="title" placeholder="Neurofuel‚Ñ¢ ‚Äî —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ –∫–∞—Ñ–µ –¥–ª—è —Ñ–æ–∫—É—Å–∞">
      </div>

      <div class="form-group">
        <label>üìÑ –ü–æ–¥–∑–∞–≥–æ–ª–æ–≤–æ–∫</label>
        <textarea id="subtitle" rows="2" placeholder="–ö–æ—Ä–æ—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤—ã–≥–æ–¥—ã"></textarea>
      </div>

      <div class="form-group">
        <label>‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ (–ø–æ –æ–¥–Ω–æ–º—É –≤ —Å—Ç—Ä–æ–∫–µ)</label>
        <textarea id="benefits" rows="3" placeholder="–ë—ã—Å—Ç—Ä—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç\n–ë–µ–∑ –ø–æ–±–æ—á–µ–∫\n–ù–∞—Ç—É—Ä–∞–ª—å–Ω—ã–π –≤–∫—É—Å"></textarea>
      </div>

      <div class="form-group">
        <label>üèóÔ∏è –§–∏—á–∏/–º–æ–¥—É–ª–∏ (–ø–æ –æ–¥–Ω–æ–º—É –≤ —Å—Ç—Ä–æ–∫–µ)</label>
        <textarea id="features" rows="3" placeholder="AI-–∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç 24/7\n–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è\n–ì–æ—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –ø—Ä–æ–¥–∞–∂"></textarea>
      </div>

      <div class="form-group">
        <label>üí¨ –û—Ç–∑—ã–≤—ã (—Ñ–æ—Ä–º–∞—Ç: –ò–º—è ‚Äî —Ç–µ–∫—Å—Ç)</label>
        <textarea id="testimonials" rows="3" placeholder="–ê–Ω–Ω–∞ ‚Äî –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ—á—É–≤—Å—Ç–≤–æ–≤–∞–ª–∞ —á–µ—Ä–µ–∑ 10 –º–∏–Ω—É—Ç.\n–ò–≤–∞–Ω ‚Äî –ù–∞–∫–æ–Ω–µ—Ü-—Ç–æ —Ñ–æ–∫—É—Å –±–µ–∑ —Ç—Ä–µ–≤–æ–≥–∏."></textarea>
      </div>

      <div class="form-group">
        <label>‚ùì FAQ (—Ñ–æ—Ä–º–∞—Ç: –í–æ–ø—Ä–æ—Å | –û—Ç–≤–µ—Ç)</label>
        <textarea id="faqs" rows="3" placeholder="–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç? | –§–æ—Ä–º—É–ª–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω–µ–π—Ä–æ-–º–µ–¥–∏–∞—Ç–æ—Ä—ã.\n–ö–æ–≥–¥–∞ —É–≤–∏–∂—É —ç—Ñ—Ñ–µ–∫—Ç? | –£–∂–µ —á–µ—Ä–µ–∑ 15 –º–∏–Ω—É—Ç –ø–æ—Å–ª–µ –ø—Ä–∏–µ–º–∞."></textarea>
      </div>

      <div class="grid-2">
        <div class="form-group">
          <label>ü§ñ Demo –∑–∞–≥–æ–ª–æ–≤–æ–∫</label>
          <input type="text" id="demoTitle" placeholder="–ü–æ–≥–æ–≤–æ—Ä–∏ —Å –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–º">
        </div>
        <div class="form-group">
          <label>‚ö° CTA –∫–Ω–æ–ø–∫–∞</label>
          <input type="text" id="ctaButton" placeholder="–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–µ–π—á–∞—Å">
        </div>
      </div>

      <div class="form-group">
        <label>üîó LiveAvatar iframe (–ø–æ–ª–Ω—ã–π –∫–æ–¥)</label>
        <textarea id="iframeCode" rows="5" placeholder='<iframe src="https://labs.heygen.com/v1/..." allow="microphone; camera" style="width:100%; height:600px; border:none;" title="LiveAvatar"></iframe>'></textarea>
      </div>

      <div class="form-group">
        <label>üí∞ –ü—Ä–∞–π—Å/–ø–∞–∫–µ—Ç</label>
        <div class="label-hint">–ù–∞–∑–≤–∞–Ω–∏–µ –ø–ª–∞–Ω–∞, —Ü–µ–Ω–∞ –∏ –±—É–ª–ª–µ—Ç—ã —á–µ—Ä–µ–∑ –Ω–æ–≤—É—é —Å—Ç—Ä–æ–∫—É</div>
        <textarea id="pricing" rows="3" placeholder="Pro Growth\n$49 / –º–µ—Å\n–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏\n–ü–æ–¥–¥–µ—Ä–∂–∫–∞ 24/7\n2 –Ω–µ–¥–µ–ª–∏ —Ç—Ä–∏–∞–ª"></textarea>
      </div>

      <div class="form-group">
        <label>üéØ –§–∏–Ω–∞–ª—å–Ω—ã–π CTA –∑–∞–≥–æ–ª–æ–≤–æ–∫</label>
        <input type="text" id="ctaTitle" placeholder="–ì–æ—Ç–æ–≤ –Ω–∞—á–∞—Ç—å?">
      </div>

      <div class="form-group">
        <label>üìù CTA —Ç–µ–∫—Å—Ç</label>
        <textarea id="ctaText" rows="2" placeholder="–ü–æ–ø—Ä–æ–±—É–π –¥–µ–º–æ –∏–ª–∏ —Å—Ä–∞–∑—É –æ—Ñ–æ—Ä–º–∏ –ø–æ–¥–ø–∏—Å–∫—É."></textarea>
      </div>

      <button class="btn" onclick="generateLanding()">üé® –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ª–µ–Ω–¥–∏–Ω–≥</button>
    </div>

    <div>
      <div class="tabs">
        <button class="tab-btn active" onclick="showTab(event, 'preview')">üëÅÔ∏è –ü—Ä–µ–≤—å—é</button>
        <button class="tab-btn" onclick="showTab(event, 'code')">üíª HTML –∫–æ–¥</button>
      </div>

      <div id="preview" class="tab-content">
        <iframe id="previewFrame" class="preview-iframe" src="about:blank"></iframe>
      </div>

      <div id="code" class="tab-content" style="display: none;">
        <div id="codeBlock" class="code-block">–ó–∞–ø–æ–ª–Ω–∏ —Ñ–æ—Ä–º—É –∏ –Ω–∞–∂–º–∏ ¬´–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ª–µ–Ω–¥–∏–Ω–≥¬ª.</div>
        <div style="padding: 14px; border-top: 1px solid #20263a; display: flex; gap: 10px;">
          <button class="btn" style="width: auto; padding: 10px 16px;" onclick="copyCode()">üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
          <button class="btn btn-secondary" style="width: auto; padding: 10px 16px;" onclick="downloadHTML()">üíæ –°–∫–∞—á–∞—Ç—å HTML</button>
          <div id="successMsg" class="status" style="color: #7ee0a3;"></div>
        </div>
      </div>

      <div class="helper" style="margin-top: 12px;">
        <strong>–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –ø–æ–¥–±–æ—Ä–∞ —Å—Ç–∏–ª—è?</strong><br>
        –ú—ã –ø–∞—Ä—Å–∏–º —Ü–≤–µ—Ç–∞ –∏–∑ –∫–æ–¥–∞ —É–∫–∞–∑–∞–Ω–Ω—ã—Ö —Å–∞–π—Ç–æ–≤ (hex-–∫–æ–¥—ã). –ß–∞—Å—Ç–æ —Å–∞–π—Ç—ã –±–µ–∑ CORS –º–æ–≥—É—Ç —Å–∫—Ä—ã–≤–∞—Ç—å HTML ‚Äî —Ç–æ–≥–¥–∞ –ø–æ–ø—Ä–æ–±—É–π –¥—Ä—É–≥–æ–π URL –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π –∫–Ω–æ–ø–∫—É ¬´–°–ª—É—á–∞–π–Ω—ã–π —Å—Ç–∏–ª—å¬ª.
      </div>
    </div>
  </div>

  <script>
    let currentHTML = '';

    function normalizeColor(hex) {
      if (!hex) return null;
      if (hex.length === 4) {
        return '#' + hex[1] + hex[1] + hex[2] + hex[2] + hex[3] + hex[3];
      }
      return hex.substring(0, 7).toLowerCase();
    }

    function hexToRgb(hex) {
      const n = parseInt(hex.slice(1), 16);
      return { r: (n >> 16) & 255, g: (n >> 8) & 255, b: n & 255 };
    }

    function getLightness(hex) {
      const { r, g, b } = hexToRgb(hex);
      return (Math.max(r, g, b) + Math.min(r, g, b)) / 510;
    }

    function adjust(hex, amount) {
      const { r, g, b } = hexToRgb(hex);
      const clamp = (v) => Math.min(255, Math.max(0, v));
      const nr = clamp(r + amount);
      const ng = clamp(g + amount);
      const nb = clamp(b + amount);
      const out = (nr << 16) | (ng << 8) | nb;
      return '#' + out.toString(16).padStart(6, '0');
    }

    function updateSwatches(accent, bg, card) {
      document.getElementById('swatchAccent').style.background = accent;
      document.getElementById('swatchBg').style.background = bg;
      document.getElementById('swatchCard').style.background = card;
    }

    async function pickStyleFromSites() {
      const urls = [ref1.value, ref2.value, ref3.value].map(u => u.trim()).filter(Boolean);
      const status = document.getElementById('styleStatus');
      if (!urls.length) {
        status.textContent = '–î–æ–±–∞–≤—å —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω URL.';
        return;
      }
      status.textContent = '–°–∫–∞–Ω–∏—Ä—É–µ–º —Ü–≤–µ—Ç–∞‚Ä¶';
      const allColors = [];

      for (const url of urls) {
        try {
          const res = await fetch(url);
          const html = await res.text();
          const matches = html.match(/#(?:[0-9a-fA-F]{3}){1,2}/g) || [];
          matches.forEach(m => allColors.push(normalizeColor(m)));
        } catch (e) {
          console.warn('–ù–µ —É–¥–∞–ª–æ—Å—å —Å—á–∏—Ç–∞—Ç—å', url, e);
        }
      }

      const filtered = allColors.filter(Boolean);
      if (!filtered.length) {
        status.textContent = '–ù–µ —É–¥–∞–ª–æ—Å—å –∏–∑–≤–ª–µ—á—å —Ü–≤–µ—Ç–∞. –ü–æ–ø—Ä–æ–±—É–π –¥—Ä—É–≥–æ–π —Å–∞–π—Ç –∏–ª–∏ –≤—Ä—É—á–Ω—É—é –≤—ã–±–µ—Ä–∏ —Ü–≤–µ—Ç.';
        return;
      }

      const freq = {};
      filtered.forEach(c => freq[c] = (freq[c] || 0) + 1);
      const sorted = Object.entries(freq).sort((a, b) => b[1] - a[1]);
      const accent = sorted[0][0];
      const lightCandidates = Object.keys(freq).sort((a, b) => getLightness(b) - getLightness(a));
      const bg = lightCandidates[0] || '#0f1015';
      const card = adjust(bg, -20);

      document.getElementById('color').value = accent;
      updateSwatches(accent, bg, card);
      status.textContent = `–ù–∞–π–¥–µ–Ω–æ ${filtered.length} —Ü–≤–µ—Ç–æ–≤. –ì–ª–∞–≤–Ω—ã–π –∞–∫—Ü–µ–Ω—Ç: ${accent}`;
    }

    function randomizeStyle() {
      const randomColor = '#' + Math.floor(Math.random() * 0xffffff).toString(16).padStart(6, '0');
      const bg = adjust(randomColor, -80);
      const card = adjust(bg, 20);
      document.getElementById('color').value = randomColor;
      updateSwatches(randomColor, bg, card);
      document.getElementById('styleStatus').textContent = '–°–ª—É—á–∞–π–Ω—ã–π —Å—Ç–∏–ª—å –ø—Ä–∏–º–µ–Ω—ë–Ω.';
    }

    function parseLines(id, fallback) {
      const raw = document.getElementById(id).value.trim();
      if (!raw) return fallback;
      return raw.split(/\n+/).map(l => l.trim()).filter(Boolean);
    }

    function parseFaqs() {
      const lines = parseLines('faqs', [
        '–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç? | –ú—ã –∞–∫—Ç–∏–≤–∏—Ä—É–µ–º —Ñ–æ–∫—É—Å –∏ —Å–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ –∑–∞ 15 –º–∏–Ω—É—Ç.',
        '–ï—Å—Ç—å –≥–∞—Ä–∞–Ω—Ç–∏—è? | 14 –¥–Ω–µ–π —Ç–µ—Å—Ç–∞ –±–µ–∑ —Ä–∏—Å–∫–∞.'
      ]);
      return lines.map(l => {
        const [q, a] = l.split('|');
        return { q: (q || '').trim(), a: (a || '').trim() };
      });
    }

    function parseTestimonials() {
      const lines = parseLines('testimonials', [
        '–ê–Ω–Ω–∞ ‚Äî –ü–æ—á—É–≤—Å—Ç–≤–æ–≤–∞–ª–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∑–∞ 10 –º–∏–Ω—É—Ç.',
        '–ò–≤–∞–Ω ‚Äî –ù–∞–∫–æ–Ω–µ—Ü-—Ç–æ —Ñ–æ–∫—É—Å –±–µ–∑ —Ç—Ä–µ–≤–æ–≥–∏.'
      ]);
      return lines.map(l => {
        const parts = l.split('‚Äî');
        return { name: (parts[0] || '–ö–ª–∏–µ–Ω—Ç').trim(), text: (parts.slice(1).join('‚Äî') || '–û—Ç–∑—ã–≤ –∫–ª–∏–µ–Ω—Ç–∞').trim() };
      });
    }

    function parsePricing() {
      const lines = parseLines('pricing', ['Pro', '$49 / –º–µ—Å', '–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏', '–ü–æ–¥–¥–µ—Ä–∂–∫–∞ 24/7']);
      return {
        title: lines[0] || 'Pro',
        price: lines[1] || '$49 / –º–µ—Å',
        bullets: lines.slice(2)
      };
    }

    function generateLanding() {
      const accent = document.getElementById('color').value || '#E48000';
      const benefits = parseLines('benefits', ['–ë—ã—Å—Ç—Ä—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç', '–ë–µ–∑ –ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤', '–ù–∞—Ç—É—Ä–∞–ª—å–Ω—ã–π —Å–æ—Å—Ç–∞–≤']);
      const features = parseLines('features', ['AI-–∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç 24/7', '–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è', '–°—Ü–µ–Ω–∞—Ä–∏–∏ –ø—Ä–æ–¥–∞–∂']);
      const testimonials = parseTestimonials();
      const faqs = parseFaqs();
      const pricing = parsePricing();

      const data = {
        title: document.getElementById('title').value || '–¢–≤–æ–π –ø—Ä–æ–¥—É–∫—Ç',
        subtitle: document.getElementById('subtitle').value || '–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞',
        color: accent,
        demoTitle: document.getElementById('demoTitle').value || '–ü–æ–≥–æ–≤–æ—Ä–∏ —Å –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–º',
        iframeCode: document.getElementById('iframeCode').value || `<iframe src="https://labs.heygen.com/v1/f20b2ff1-f166-4b9a-96b3-28b6178a849c" allow="microphone; camera" style="width:100%; height:620px; border:none;" title="LiveAvatar"></iframe>`,
        ctaTitle: document.getElementById('ctaTitle').value || '–ì–æ—Ç–æ–≤ –Ω–∞—á–∞—Ç—å?',
        ctaText: document.getElementById('ctaText').value || '–ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ',
        ctaButton: document.getElementById('ctaButton').value || '–ó–∞–ø—É—Å–∫'
      };

      const benefitHTML = benefits.map((b, idx) => `<div class="benefit"><div class="icon">${idx + 1}</div><div>${b}</div></div>`).join('');
      const featuresHTML = features.map((f, idx) => `<div class="feature-card"><div class="mini">–ú–æ–¥—É–ª—å ${idx + 1}</div><h3>${f}</h3><p>–ì–æ—Ç–æ–≤–æ –∫ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—é –∏ –±—ã—Å—Ç—Ä–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–µ.</p></div>`).join('');
      const testimonialsHTML = testimonials.map(t => `<div class="testimonial"><div class="quote">‚Äú${t.text}‚Äù</div><div class="name">${t.name}</div></div>`).join('');
      const faqsHTML = faqs.map(f => `<details class="faq"><summary>${f.q}</summary><p>${f.a}</p></details>`).join('');
      const pricingBullets = pricing.bullets.map(b => `<li>${b}</li>`).join('');

      currentHTML = `<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>${data.title}</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --accent: ${data.color};
      --bg: #0b0c12;
      --card: #11131d;
      --soft: #161a2c;
      --text: #e9ecff;
      --muted: #9ca3be;
      --border: #1f2335;
      --shadow: 0 24px 60px rgba(0,0,0,0.35);
    }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: 'Poppins', sans-serif; background: radial-gradient(circle at 20% 20%, #14192c, #0b0c12 55%), #0b0c12; color: var(--text); line-height: 1.6; }
    .wrapper { max-width: 1100px; margin: 0 auto; padding: 28px 18px 80px; }
    header { padding: 18px 0 12px; display: flex; align-items: center; justify-content: space-between; }
    .brand { display: flex; align-items: center; gap: 10px; font-weight: 700; letter-spacing: 0.4px; }
    .brand .dot { width: 12px; height: 12px; border-radius: 50%; background: var(--accent); box-shadow: 0 0 20px var(--accent); }
    .pill { display: inline-flex; align-items: center; gap: 8px; padding: 8px 12px; border-radius: 999px; background: rgba(255,255,255,0.06); border: 1px solid var(--border); color: var(--muted); font-size: 13px; }
    .hero { padding: 32px 0 18px; }
    .hero h1 { font-size: clamp(32px, 5vw, 52px); margin-bottom: 16px; background: linear-gradient(135deg, var(--accent), #ffd69e); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
    .hero p { color: var(--muted); max-width: 680px; margin-bottom: 18px; }
    .benefits { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 12px; margin: 18px 0 22px; }
    .benefit { display: flex; gap: 10px; align-items: center; padding: 14px; border-radius: 12px; background: rgba(255,255,255,0.04); border: 1px solid var(--border); }
    .benefit .icon { width: 34px; height: 34px; border-radius: 10px; background: linear-gradient(135deg, var(--accent), #ffb85c); display: grid; place-items: center; color: #0b0c12; font-weight: 700; }
    .cta-buttons { display: flex; flex-wrap: wrap; gap: 12px; }
    .btn-main { background: linear-gradient(135deg, var(--accent), #ffb85c); color: #0b0c12; padding: 14px 18px; border-radius: 12px; border: none; font-weight: 700; cursor: pointer; box-shadow: 0 18px 44px rgba(0,0,0,0.35); text-decoration: none; }
    .btn-ghost { background: rgba(255,255,255,0.05); border: 1px solid var(--border); color: var(--text); padding: 14px 18px; border-radius: 12px; text-decoration: none; }
    .stack { background: var(--card); border: 1px solid var(--border); border-radius: 18px; padding: 20px; box-shadow: var(--shadow); margin: 26px 0; }
    .stack h2 { font-size: 28px; margin-bottom: 12px; }
    .feature-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 14px; }
    .feature-card { background: var(--soft); border: 1px solid var(--border); border-radius: 14px; padding: 16px; box-shadow: inset 0 1px 0 rgba(255,255,255,0.04); }
    .feature-card .mini { color: var(--muted); font-size: 12px; letter-spacing: 0.5px; text-transform: uppercase; margin-bottom: 8px; }
    .feature-card h3 { margin-bottom: 6px; font-size: 18px; }
    .feature-card p { color: var(--muted); font-size: 14px; }
    .demo { margin: 32px 0; background: var(--card); border: 1px solid var(--border); border-radius: 18px; padding: 18px; box-shadow: var(--shadow); }
    .demo iframe { width: 100%; border: none; border-radius: 14px; background: #000; }
    .testimonials { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 14px; }
    .testimonial { background: var(--soft); border: 1px solid var(--border); border-radius: 14px; padding: 16px; }
    .testimonial .quote { font-size: 15px; margin-bottom: 10px; }
    .testimonial .name { color: var(--muted); font-size: 13px; }
    .pricing { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 16px; margin: 20px 0; }
    .price-card { background: linear-gradient(145deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02)); border: 1px solid var(--border); border-radius: 16px; padding: 18px; box-shadow: var(--shadow); }
    .price-card .title { font-size: 20px; margin-bottom: 6px; }
    .price-card .value { font-size: 30px; margin-bottom: 10px; color: var(--accent); }
    .price-card ul { list-style: none; color: var(--muted); margin-bottom: 12px; }
    .price-card li { margin: 6px 0; }
    .faq-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 12px; }
    .faq { background: var(--soft); border: 1px solid var(--border); border-radius: 14px; padding: 12px 14px; color: var(--text); }
    .faq summary { cursor: pointer; font-weight: 600; }
    .faq p { color: var(--muted); margin-top: 8px; }
    .final-cta { margin: 40px 0; text-align: center; background: linear-gradient(135deg, var(--accent), #ffb85c); color: #0b0c12; padding: 28px; border-radius: 18px; box-shadow: var(--shadow); }
    .final-cta h2 { font-size: 30px; margin-bottom: 8px; }
    .final-cta p { margin-bottom: 16px; color: #111; }
    @media (max-width: 720px) { .hero { padding-top: 12px; } .cta-buttons { flex-direction: column; } }
  </style>
</head>
<body>
  <div class="wrapper">
    <header>
      <div class="brand"><span class="dot"></span> –î–µ–º–æ-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä</div>
      <div class="pill">–ì–æ—Ç–æ–≤ –∫ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—é</div>
    </header>

    <section class="hero">
      <div class="pill">AI + –ö–æ–Ω–≤–µ—Ä—Å–∏—è</div>
      <h1>${data.title}</h1>
      <p>${data.subtitle}</p>
      <div class="benefits">${benefitHTML}</div>
      <div class="cta-buttons">
        <a href="#demo" class="btn-main">${data.ctaButton}</a>
        <a href="#pricing" class="btn-ghost">–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ç–∞—Ä–∏—Ñ</a>
      </div>
    </section>

    <section class="stack">
      <h2>–ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞</h2>
      <p style="color: var(--muted); margin-bottom: 12px;">–ö–∞–∂–¥—ã–π –±–ª–æ–∫ –ª–µ–≥–∫–æ –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å, –∑–∞–º–µ–Ω—è—è –¥–∞–Ω–Ω—ã–µ –ø–æ–¥ –Ω–æ–≤—ã–π –æ—Ñ—Ñ–µ—Ä.</p>
      <div class="feature-grid">${featuresHTML}</div>
    </section>

    <section id="demo" class="demo">
      <div style="display:flex; align-items:center; justify-content: space-between; margin-bottom: 12px; gap: 12px;">
        <h2 style="margin:0;">${data.demoTitle}</h2>
        <span class="pill">Live Avatar</span>
      </div>
      <div>${data.iframeCode}</div>
    </section>

    <section class="stack">
      <h2>–°–æ—Ü–∏–∞–ª—å–Ω–æ–µ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ</h2>
      <div class="testimonials">${testimonialsHTML}</div>
    </section>

    <section id="pricing" class="pricing">
      <div class="price-card">
        <div class="title">${pricing.title}</div>
        <div class="value">${pricing.price}</div>
        <ul>${pricingBullets}</ul>
        <a class="btn-main" href="#demo">${data.ctaButton}</a>
      </div>
    </section>

    <section class="stack">
      <h2>FAQ</h2>
      <div class="faq-grid">${faqsHTML}</div>
    </section>

    <section class="final-cta">
      <h2>${data.ctaTitle}</h2>
      <p>${data.ctaText}</p>
      <a class="btn-main" href="#demo" style="box-shadow:none;">${data.ctaButton}</a>
    </section>
  </div>
</body>
</html>`;

      const previewFrame = document.getElementById('previewFrame');
      const previewDoc = previewFrame.contentDocument || previewFrame.contentWindow.document;
      previewDoc.open();
      previewDoc.write(currentHTML);
      previewDoc.close();

      document.getElementById('codeBlock').textContent = currentHTML;
      updateSwatches(accent, adjust('#0f1015', 0), adjust('#0f1015', 20));
    }

    function showTab(e, tab) {
      document.querySelectorAll('.tab-content').forEach(el => el.style.display = 'none');
      document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
      document.getElementById(tab).style.display = 'block';
      e.target.classList.add('active');
    }

    function copyCode() {
      navigator.clipboard.writeText(currentHTML).then(() => {
        const msg = document.getElementById('successMsg');
        msg.textContent = '–ö–æ–¥ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞';
        setTimeout(() => msg.textContent = '', 2000);
      });
    }

    function downloadHTML() {
      const blob = new Blob([currentHTML], { type: 'text/html' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = `landing-${Date.now()}.html`;
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      URL.revokeObjectURL(url);
    }

    window.onload = () => { generateLanding(); randomizeStyle(); };
  </script>
</body>
</html>
